{
  "created_at": "2012-03-30T16:00:02Z",
  "id": 383,
  "resolved": true,
  "title": "Java apps unable to start",
  "upcoming": false,
  "updated_at": "2012-03-30T23:20:02Z",
  "href": "https://status.cf.com/api/v3/issues/383",
  "updates": [
    {
      "contents": "On the night of March 29, 2012, we upgraded our Tomcat from version 6 to version 7 as part of our normal production upgrade schedule.\r\n\r\nEarly in the morning of March 30th, we discovered that Java apps that were created or re-pushed were receiving an error.\r\n\r\nAt 9am PT that morning we identified the specific issue causing the error.  The script catalina.sh was modified in Tomcat 7 to start Tomcat using `eval exec` instead of `exec`. We were setting the `CATALINA_OPTS` environment variable to include values for `-Dhttp.nonProxyHosts` that contained a pipe character, which was interpreted by eval as Unix pipe. This affected the application start command, leading to a failure to start the application.  This change did not affect our QA environment, as there was no proxy configured (or required), and thus the problem escaped our testing.  Once we understood the issue, our first priority was to minimize the impact on our users.  The best course of action was deemed to be reverting back to the last known good version (Tomcat 6).\r\n\r\nThe version rollback and validations completed at 1:20pm PT.\r\n\r\nThis problem impacted about 60 people who were performing pushes or creating apps during the time Tomcat 7 was in place.\r\n\r\nWe are learning from our mistake.  We will start by adding tests based on this incident, and will continue investigating other mechanisms to prevent similar issues from occurring in the future.\r\n\r\nWe would like to apologize to all of you who suffered from this problem.",
      "created_at": "2012-03-30T23:20:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "follow-up",
      "updated_at": "2012-03-30T23:20:02Z"
    },
    {
      "contents": "Testing of production is complete and verified working correctly.",
      "created_at": "2012-03-30T20:20:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "resolved",
      "updated_at": "2012-03-30T20:20:02Z"
    },
    {
      "contents": "Push to production has finished. Verification is commencing.",
      "created_at": "2012-03-30T20:11:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T20:11:02Z"
    },
    {
      "contents": "Push to production has begun.",
      "created_at": "2012-03-30T19:51:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T19:51:02Z"
    },
    {
      "contents": "Engineering has completed and verified staging environment testing.",
      "created_at": "2012-03-30T19:40:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T19:40:02Z"
    },
    {
      "contents": "The push to the staging environment has finished. Engineering is now testing the staging environment.\r\n\r\nETA to testing staging: 15 min",
      "created_at": "2012-03-30T19:27:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T19:27:02Z"
    },
    {
      "contents": "Engineering has finished testing in the development environment. They are now proceeding with the push and testing in the Staging Environment.",
      "created_at": "2012-03-30T19:03:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T19:03:02Z"
    },
   {
      "contents": "Engineering has just finished building Tomcat with a patch. They are proceeding now with testing in a development environment. After testing is completed they will push to the Staging Environment.",
      "created_at": "2012-03-30T18:15:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T18:15:02Z"
    },
    {
      "contents": "Engineering is building the changes for Tomcat and will test those changes in the Staging Environment. After those changes to staging are verified then the fix will be pushed to production.\r\n\r\nETA: 2 hours.",
      "created_at": "2012-03-30T17:48:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T17:48:02Z"
    },
    {
      "contents": "The issue has been identified and engineering has determined the best course of action is to rollback the Java changes from last night to resolve the immediate issue. Engineering will address the issue with a permanent fix after normal operations has resumed.\r\n\r\nETA: Minimum 2 hours.",
      "created_at": "2012-03-30T17:10:02Z",
      "id": 1137,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T17:10:02Z"
    },
    {
      "contents": "Teams are still actively working on a resolution plan. More information will be forthcoming.",
      "created_at": "2012-03-30T16:51:02Z",
      "id": 1136,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T16:51:02Z"
    },
    {
      "contents": "The issue has been identified and it is impacting the ability to push and start apps that run inside Tomcat, including Java, Grails, and Scala apps. It is related to the code push last night.\r\n\r\nTeams are actively working on a resolution plan.",
      "created_at": "2012-03-30T16:33:02Z",
      "id": 1135,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "update",
      "updated_at": "2012-03-30T16:33:02Z"
    },
    {
      "contents": "Customers have reported being unable to start Java apps on CloudFoundry.com. We are aware of the issue and are actively investigating the matter.\r\n",
      "created_at": "2012-03-30T16:00:02Z",
      "id": 1134,
      "incident_id": 383,
      "title": "Java apps unable to start",
      "update_type": "issue",
      "updated_at": "2012-03-30T16:00:02Z"
    }
  ]
}
